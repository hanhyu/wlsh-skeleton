<?php
return [
    //'reactor_num' => 16,
    'worker_num' => 4,
    'task_worker_num' => 4,
    'task_enable_coroutine' => true,
    'daemonize' => SWOOLE_DAEMONIZE,
    //swoole4.4.2版本开始，已稳定内存，协程模式下无需再开启此参数。
    //'max_request'                => 300000,
    'enable_coroutine' => true,
    'max_coroutine' => 100000,
    'dispatch_mode' => 2,
    'enable_reuse_port' => false,
    'log_level' => SWOOLE_LOG_LEVEL,
    'trace_flags' => SWOOLE_TRACE_ALL,
    'log_file' => ROOT_PATH . '/log/swoole.log',
    'pid_file' => ROOT_PATH . '/log/swoolePid.log',
    'package_max_length' => 200000,
    'reload_async' => true,
    'max_wait_time' => 7, //如果使用supervisorctl管理启动入口时，注意要设置比stopwaitsecs的值更小，否则会产生swoole worker进程退出失败
    'heartbeat_idle_time' => 600,
    'heartbeat_check_interval' => 60,
    'buffer_output_size' => 8 * 1024 * 1024,
    //'ssl_cert_file'              => ROOT_PATH . '/tests/opensslRsa/cert.crt',
    //'ssl_key_file'               => ROOT_PATH . '/tests/opensslRsa/rsa_private.key',
    //'ssl_ciphers'                => '',
    //'ssl_verify_peer'            => true,
    //'ssl_allow_self_signed'      => true,
    //'open_http2_protocol'        => true,
    //'open_mqtt_protocol'         => true,
    'open_websocket_close_frame' => true,
    'send_yield' => true,
    'hook_flags' => SWOOLE_HOOK_ALL,
    'user' => 'root',
    'group' => 'root',
    'http_compression_level' => 4,
];